<html>
<head>
  <script src="spark-md5.js"></script>
  <script src="jquery-1.8.2.js"></script>
  <script src="echonest-analysis.js"></script>
  <script src="drag-drop-file.js"></script>
  <link href="drag-drop-file.css" rel="stylesheet"/>
  <style>
  html {
    background: #ABC;
    padding: 1em ;
    font-family: Helvetica, sans-serif;
  }
  body {
    background: #EEF;
    padding: 1em;
  }
  #debug {
    background-color: rgba(255, 127, 0, 0.5);
    padding: 1em;
    box-shadow: 1px 1px 8px rgba(0, 0, 0, 0.2);
  }
  #output {
    font-size: 120%;
    padding: 0.5em;
    margin: 0.5em;
    width: 80%;
    background: rgba(0, 0, 0, 0.1);
    border-radius: 8px;
  }
  </style>
  <script>
    function displayString(str) {
      console.log(str);
      $("#output").html(str);
      $("#output").fadeOut(100).fadeIn(100);
    }
    var aa; // for easy console probing.
    function callback(audio_analysis) {
      aa = audio_analysis
      displayString("BPM of \"" + aa.meta.title + "\" is: " + audio_analysis.track.tempo);
    }
    function go(file) {
      try {
        echonest = echonestAnalysis(file);
        echonest.setProgressCallback(displayString);
        echonest.go(callback);
      }
      catch (e) {
        console.log(e);
      }
    }
  </script>
</head>
<body>

<center>
<h1>Echonest Upload!</h1>

<div id="new_song">Drag and drop a song here!</div>
<!--input type="file" name="track" id="track" onchange=""><br-->

<div id="output">No output yet...</div>
</center>

</body>
</html>